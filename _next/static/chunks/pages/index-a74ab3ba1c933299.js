(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5325:function(e,t,n){"use strict";n.a(e,async function(e,r){try{n.d(t,{k9:function(){return _.k9}});var i=n(7309),_=n(1365),l=e([i]);i=(l.then?(await l)():l)[0],(0,_.oT)(i),r()}catch(e){r(e)}})},1365:function(e,t,n){"use strict";let r;function i(e){r=e}n.d(t,{Gh:function(){return j},KM:function(){return O},Or:function(){return S},a2:function(){return N},e6:function(){return E},h4:function(){return v},iX:function(){return U},k9:function(){return x},kA:function(){return F},m3:function(){return T},oH:function(){return q},oT:function(){return i},qd:function(){return A},tU:function(){return C},ug:function(){return k}}),e=n.hmd(e);let _="undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder,l=new _("utf-8",{ignoreBOM:!0,fatal:!0});l.decode();let o=null;function u(){return(null===o||0===o.byteLength)&&(o=new Uint8Array(r.memory.buffer)),o}function c(e,t){return e>>>=0,l.decode(u().subarray(e,e+t))}let a=Array(128).fill(void 0);a.push(void 0,null,!0,!1);let f=a.length;function s(e){f===a.length&&a.push(a.length+1);let t=f;return f=a[t],a[t]=e,t}function d(e){let t=a[e];return e<132||(a[e]=f,f=e),t}let h=0,g="undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder,w=new g("utf-8"),b="function"==typeof w.encodeInto?function(e,t){return w.encodeInto(e,t)}:function(e,t){let n=w.encode(e);return t.set(n),{read:e.length,written:n.length}};function p(e,t,n){if(void 0===n){let n=w.encode(e),r=t(n.length,1)>>>0;return u().subarray(r,r+n.length).set(n),h=n.length,r}let r=e.length,i=t(r,1)>>>0,_=u(),l=0;for(;l<r;l++){let t=e.charCodeAt(l);if(t>127)break;_[i+l]=t}if(l!==r){0!==l&&(e=e.slice(l)),i=n(i,r,r=l+3*e.length,1)>>>0;let t=u().subarray(i+l,i+r),_=b(e,t);l+=_.written}return h=l,i}let m=null;function y(){return(null===m||0===m.byteLength)&&(m=new Int32Array(r.memory.buffer)),m}class x{static __wrap(e){e>>>=0;let t=Object.create(x.prototype);return t.__wbg_ptr=e,t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){let e=this.__destroy_into_raw();r.__wbg_chip8_free(e)}static new(){let e=r.chip8_new();return x.__wrap(e)}load_rom(e){try{let n=r.__wbindgen_add_to_stack_pointer(-16),i=p(e,r.__wbindgen_malloc,r.__wbindgen_realloc),_=h;r.chip8_load_rom(n,this.__wbg_ptr,i,_);var t=y()[n/4+0];if(y()[n/4+1])throw d(t)}finally{r.__wbindgen_add_to_stack_pointer(16)}}on_key_press(e,t){let n=p(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=h,_=p(t,r.__wbindgen_malloc,r.__wbindgen_realloc),l=h;r.chip8_on_key_press(this.__wbg_ptr,n,i,_,l)}on_key_release(e,t){let n=p(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=h,_=p(t,r.__wbindgen_malloc,r.__wbindgen_realloc),l=h;r.chip8_on_key_press(this.__wbg_ptr,n,i,_,l)}get_game_names(){let e=r.chip8_get_game_names(this.__wbg_ptr);return d(e)}get_display_buffer(){let e=r.chip8_get_display_buffer(this.__wbg_ptr);return d(e)}get_display_width(){let e=r.chip8_get_display_width(this.__wbg_ptr);return e>>>0}get_display_height(){let e=r.chip8_get_display_height(this.__wbg_ptr);return e>>>0}}function v(e,t){let n=c(e,t);return s(n)}function k(e){d(e)}function j(){return s([])}function C(e,t){let n=a[e].push(a[t]);return n}function E(e,t){let n=Error(c(e,t));return s(n)}function T(e){let t=a[e].buffer;return s(t)}function A(e,t,n){let r=new Uint8Array(a[e],t>>>0,n>>>0);return s(r)}function F(e){let t=new Uint8Array(a[e]);return s(t)}function N(){let e=Error();return s(e)}function O(e,t){let n=a[t].stack,i=p(n,r.__wbindgen_malloc,r.__wbindgen_realloc),_=h;y()[e/4+1]=_,y()[e/4+0]=i}function U(e,t){let n,i;try{n=e,i=t,console.error(c(e,t))}finally{r.__wbindgen_free(n,i,1)}}function S(e,t){throw Error(c(e,t))}function q(){let e=r.memory;return s(e)}},8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(7925)}])},5828:function(e,t,n){"use strict";var r=n(5893),i=n(7294),_=n(4753),l=n.n(_);t.Z=function(e){let{emulator:t}=e,n=i.useRef(null),_={width:t.get_display_width(),height:t.get_display_height()};i.useEffect(()=>{let e=n.current,r=null==e?void 0:e.getContext("2d");if(r){!function(e,t){let{width:n,height:r}=t;e.beginPath(),e.strokeStyle="#CCCCCC";for(let t=0;t<n;t+=1){let n=11*t+1;e.moveTo(n,0),e.lineTo(n,11*r+1)}for(let t=0;t<=r;t+=1)e.moveTo(0,11*t+1),e.lineTo(11*n+1,11*t+1);e.stroke()}(r,_);let e=t.get_display_buffer();!function(e,t,n){let{width:r,height:i}=n;e.beginPath();for(let n=0;n<i;n+=1)for(let i=0;i<r;i+=1){let _=n*r+i,l=t[_];0===l?e.fillStyle="#FFFFFF":e.fillStyle="#000000",e.fillRect(11*i+1,11*n+1,10,10)}e.stroke()}(r,e,_)}},[]);let o=11*_.width+1,u=11*_.height+1;return(0,r.jsx)("div",{children:(0,r.jsx)("canvas",{className:l().displayCanvas,ref:n,width:o,height:u})})}},4382:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(5893),i=n(7294),_=function(e){let[t,n]=i.useState([]),[r,_]=i.useState(null);return i.useEffect(()=>{let t=e.get_game_names();t.length>0&&n(t)},[]),i.useEffect(()=>{let e=t[0];null!=e&&null==r?_(e):0===t.length&&null!=r&&_(null)},[t]),i.useEffect(()=>{if(null!=r)try{e.load_rom(r)}catch(e){n(t.filter(e=>e!=r))}},[r]),{games:t,selectedGame:r}},l=function(e){let{emulator:t}=e,{games:n,selectedGame:i}=_(t);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("label",{children:"Choose a game:"}),(0,r.jsx)("select",{name:"games",value:null!=i?i:void 0,children:n.map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]})}},7925:function(e,t,n){"use strict";n.a(e,async function(e,r){try{n.r(t),n.d(t,{default:function(){return d}});var i=n(5893),_=n(5325),l=n(9008),o=n.n(l),u=n(4382),c=n(5828),a=n(4105),f=n.n(a),s=e([_]);_=(s.then?(await s)():s)[0];let h=_.k9.new();function d(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[(0,i.jsx)("title",{children:"Chip 8"}),(0,i.jsx)("meta",{name:"description",content:"Chip 8 emulator"}),(0,i.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsx)("main",{children:(0,i.jsxs)("div",{className:f().home,children:[(0,i.jsx)(u.Z,{emulator:h}),(0,i.jsx)(c.Z,{emulator:h})]})})]})}r()}catch(e){r(e)}})},4753:function(e){e.exports={displayCanvas:"chip8Display_displayCanvas__d29it"}},4105:function(e){e.exports={home:"home_home__bamnU"}},9008:function(e,t,n){e.exports=n(9201)},7309:function(e,t,n){"use strict";var r=n(1365);e.exports=n.v(t,e.id,"cde6e9bd82d7b055",{"./chip8_wasm_bg.js":{__wbindgen_string_new:r.h4,__wbindgen_object_drop_ref:r.ug,__wbg_new_08236689f0afb357:r.Gh,__wbg_push_fd3233d09cf81821:r.tU,__wbg_new_ab87fd305ed9004b:r.e6,__wbg_buffer_344d9b41efe96da7:r.m3,__wbg_newwithbyteoffsetandlength_2dc04d99088b15e3:r.qd,__wbg_new_d8a000788389a31e:r.kA,__wbg_new_abda76e883ba8a5f:r.a2,__wbg_stack_658279fe44541cf6:r.KM,__wbg_error_f851667af71bcfc6:r.iX,__wbindgen_throw:r.Or,__wbindgen_memory:r.oH}})}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);